<!-- src/lib/components/ApiStatusPanel.svelte -->
<script>
	export let apiActivityStatus = {
		hasActiveRequest: false,
		isAudioPlaying: false,
		isAnyActivityRunning: false,
		lastActivityTime: null
	};
</script>

<div class="mt-3 p-3 bg-gray-50 rounded-lg border border-gray-200">
	<div class="text-xs font-semibold text-gray-600 mb-2">ğŸ“¡ API ì—°ê²° ìƒíƒœ</div>
	
	<!-- Status Indicators -->
	<div class="grid grid-cols-2 gap-2 text-xs">
		<div class="flex items-center gap-2">
			<span class={`w-2 h-2 rounded-full ${
				apiActivityStatus.hasActiveRequest ? 'bg-yellow-500 animate-pulse' : 'bg-gray-300'
			}`}></span>
			<span class="text-gray-700">
				API ìš”ì²­: {apiActivityStatus.hasActiveRequest ? 'ì§„í–‰ì¤‘' : 'ì—†ìŒ'}
			</span>
		</div>
		<div class="flex items-center gap-2">
			<span class={`w-2 h-2 rounded-full ${
				apiActivityStatus.isAudioPlaying ? 'bg-green-500 animate-pulse' : 'bg-gray-300'
			}`}></span>
			<span class="text-gray-700">
				ì˜¤ë””ì˜¤: {apiActivityStatus.isAudioPlaying ? 'ì¬ìƒì¤‘' : 'ì •ì§€'}
			</span>
		</div>
	</div>

	<!-- Billing Status -->
	<div class="mt-2 pt-2 border-t border-gray-200">
		{#if apiActivityStatus.isAnyActivityRunning}
			<div class="flex items-center gap-2 text-orange-600">
				<span class="text-base">âš ï¸</span>
				<span class="font-semibold">API í™œë™ ì¤‘ - ê³¼ê¸ˆ ë°œìƒ ê°€ëŠ¥</span>
			</div>
		{:else}
			<div class="flex items-center gap-2 text-green-600">
				<span class="text-base">âœ…</span>
				<span class="font-semibold">API ë¹„í™œì„± - ê³¼ê¸ˆ ì—†ìŒ</span>
			</div>
		{/if}
		{#if apiActivityStatus.lastActivityTime}
			<div class="text-gray-500 mt-1">
				ë§ˆì§€ë§‰ í™œë™: {Math.floor((Date.now() - apiActivityStatus.lastActivityTime) / 1000)}ì´ˆ ì „
			</div>
		{/if}
	</div>
</div>

<style>
	:global(body) {
		margin: 0;
		padding: 0;
	}
</style>
